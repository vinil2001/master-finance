Расшифровка таблицы bkh - банк расход, банк приход
// В таблице bkn находятся такие типы записей (различающиеся полем tp):
    // 1) Банк-приход (перевод внутри старны в грн) - bkh.tp = 1;
    // 2) Банк-приход валюты при экспортных операциях - bkh.tp = 5;

    // 3) Банк-расход (перевод внутри старны в грн) - bkh.tp = 2;
    // 4) Банк-расход валюты при импортных операциях - bkh.tp = 4; 3 - заявка на покупку валюты на основе которой создается Банк-расход
    // 5) Отгрузка без 100% оплаты экспорт - bkh.tp = 6; -- пока только в двух случаях
    // У кассы-прихода ksh.tp = 1 !!!

bkh.op - ?
bkh.lg - проведен или нет документ
bkh.num, bkh.ndoc - номер документа (Банк-Расход)
bkh.ncht - номер счета по которому зашла оплата (в случе банк прихода), при банк расходе не указывается
bkh.datd -
bkh.sd - сумма оплаты
bkh.prh - связь с таблицей PRH


Расшифровка таблицы PRH - таблица хранящая в себе счет-фактуру поставщика и приходные накладные.

prh.lg - удален или нет документ (prh.lg = 0 - документ был удален пользователем но хранится в базе, при необходимости может быть востановлен администратором)
prh.tp - счет фактура поставщика или приходная накладная 
prh.tp = 1 - Приходная накладная (связанна со счетом-фактурой поставщика) 
prh.tp = 5 - счет фактура поставщика.
prh.num - номер документа
prh.ndoc - номер документа который отображается в программе ОРЕСТ!!!
prh.ninv - номер счета поставщика;
prh.sd - сумма счета (достпупна только для prh.tp = 5)
prh.sr - ндс
prh.sg - сумма счета без ндс
prh.frm - фирма (наша) со счета которой просходила оплата и на которую приходуется товар.
(В данный момент это только ПП Майстер-1 с ID=1.)
prh.skl - Id склада. Связь с таблицей skl.
prh.vlt - Id валюты. Связь с таблицей vlt. 1 - грн., 2- дол., 3-евро.
prh.rsh -  	tp=5 - счет-поставщика, который может ссылаться на накладную через столбец rsh. 
			tp=1 - приходная накладная. 
__________________________________________________

BKH 
tp=2 счёт расход
sd сумма 3780 
prh 64217 - связь с таблицей PRH

PRH
ninv - номер счёта (86)
datd - дата счёта
sd - сумма счёта
sr - налог


Ищем в таблице PRH запись по номеру счёта в столбце ninv, получаем общую сумму sd и Id этой записи.
По полученному id в таблице BKH ищем записи в которых этот id совпадает со значениями в столбце prh.
// Нет возможности установить связь из prh к bkh.
// Есть возможность установить связь из bkh к prh.
Это должны получится платежи по искомому счёту. 

Тогда можно проверить совпадение номеров счетов в обоих программах и расчитать процент оплаты, а также
за счёт столбца lg выяснить проведена оплата или нет. 

Механизмы контроля оплат и счетов через Орест:
// Начать с проверки по названию клиента+по номеру счета+по дате счета
// если совпадений не найдено, сообщить об ошибке.
1. Совпадение номера счёта (//есть не уникальные номера счетов, например б/н). Если не совпадают, показывать предупреждение...
2. Проверка на то, что общие суммы счёта совпадают. Если не совпадают, показывать предупреждение...
3. Проверка на то, что докумнты банк-расход совпадают и что они проведены. Если проведены,
устанавливаем отметку "оплачен". Вручную отметку "оплачен" отмечать будет нельзя. 



Талицы
Банк-Расход bkh-2
Счет поставщика prh-5
GET
Поиск по дате документа
http://www.crmorest-api.net.ua/Api/?table=TableCRM&beg=2020-02-07&end=2020-02-11& fields=f1,f2,..,fn
TableCRM – таблица CRM
fields=f1,f2,..,fn – название полей для вывода через «,»
beg - дата начала
end - дата конец
Поиск по номеру документа
http://www.crmorest-api.net.ua/Api/?table=TableCRM&ndoc=22949&fields=f1,f2,..,fn
ndoc -номер документа
Поиск по ID документа
http://www.crmorest-api.net.ua/Api/?table=TableCRM&searchID=63485&fields=f1,f2,..,fn
searchID -  ID документа